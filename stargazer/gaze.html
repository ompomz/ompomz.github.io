<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nostr フォローリストエディター</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>Nostr フォローリストエディター</h1>
        <p>kind:30000イベントの**公開部分（pタグ）**と**非公開部分（content）**を同時に編集・保存します。</p>

        <section id="status-section">
            <p id="status-message">ツールを利用するには、NIP-07対応の拡張機能が必要です。</p>
        </section>

        <section id="load-section">
            <button id="load-relays-button">リレーリストを読み込む</button>
            <button id="load-lists-button" class="hidden">フォローリストを読み込む</button>
        </section>

        <section id="editor-section" class="hidden">
            <h3>編集するリストを選択</h3>
            <div class="input-group">
                <select id="event-select"></select>
                <span id="event-info" class="info-text"></span>
            </div>

            <h3 class="mt-20">公開リスト</h3>
            <p class="info-text">これらの鍵は**pタグ**に含まれ、公開されます。</p>
            <textarea id="public-pubkeys-textarea" placeholder="公開リストの公開鍵を1行に1つ入力してください"></textarea>

            <h3 class="mt-20">非公開リスト</h3>
            <p class="info-text">これらの鍵は**content（暗号化）**にのみ含まれ、非公開で保存されます。</p>
            <textarea id="private-pubkeys-textarea" placeholder="非公開リストの公開鍵を1行に1つ入力してください"></textarea>
            
            <button id="preview-button">JSONイベントをプレビュー</button>
        </section>

        <section id="preview-section" class="hidden">
            <h3>生成されたイベントJSON（編集可能）</h3>
            <textarea id="event-json-textarea"></textarea>
            <button id="save-button">署名してリレーに送信</button>
        </section>

        <section id="relay-status-section" class="hidden">
            <h3>リレー送信状況</h3>
            <div id="relay-status-list"></div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
